<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BuhaaTh</title>
  <link rel="icon" href="favicon.ico" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<!-- ÿ≤ÿ± ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸàÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ ŸàÿßŸÑÿÆÿ±Ÿàÿ¨ -->
<div style="position: absolute; top: 20px; right: 30px; z-index: 10;">
  <a href="login.html" style="margin-right: 10px; color: #7C4DFF; text-decoration: none; font-weight: bold;">üîê Login</a>
  <a href="register.html" style="margin-right: 10px; color: #7C4DFF; text-decoration: none; font-weight: bold;">‚ûï Register</a>
  <a href="#" onclick="logout()" style="color: #ff4d4d; text-decoration: none; font-weight: bold;">üö™ Logout</a>
</div>

<!-- ÿÆŸÑŸÅŸäÿ© Particles -->
<div id="particles-js" style="position: fixed; width: 100%; height: 100%; z-index: -1;"></div>

<div style="max-width: 900px; margin: 60px auto; text-align: center;">
  <img src="header-logo.png" alt="BuhaaTh Logo" style="max-width: 240px; margin-bottom: 16px;">
  <p style="font-size: 15px; color: #fff; margin-bottom: 24px;">What is your research field today?</p>

  <!-- ŸÖÿ±ÿ®ÿπ ÿßŸÑÿ®ÿ≠ÿ´ ŸàÿßŸÑÿ£ÿØŸàÿßÿ™ -->
  <div style="padding: 24px; background: #fff; border-radius: 20px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);">
    <input type="text" id="query" placeholder="Ask the research..." style="width: 100%; padding: 5px; border-radius: 6px; border: 1px solid #ccc; margin-bottom: 12px;">
    <button id="searchBtn" onclick="search()" style="padding: 12px 24px; border: none; background: #7C4DFF; border-radius: 14px; color: white;">Search</button>

    <!-- ÿßŸÑÿ£ÿØŸàÿßÿ™ ÿ£ÿ≥ŸÅŸÑ ÿ≤ÿ± ÿßŸÑÿ®ÿ≠ÿ´ -->
    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 24px;">
      <a href="plagiarism.html" style="text-decoration:none; color:#333;">
        üìÑ Plagiarism <br><small style="font-size: 12px;">Check for copied content</small>
      </a>
      <a href="citation.html" style="text-decoration:none; color:#333;">
        üìù Citation <br><small style="font-size: 12px;">Generate APA/MLA references</small>
      </a>
      <a href="grammar.html" style="text-decoration:none; color:#333;">
        ‚úçÔ∏è Grammar <br><small style="font-size: 12px;">Fix language & grammar</small>
      </a>
      <a href="summary.html" style="text-decoration:none; color:#333;">
        üìö Summary <br><small style="font-size: 12px;">Summarize long texts</small>
      </a>
    </div>
  </div>
</div>

<!-- ŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑÿ®ÿ≠ÿ´ -->
<div id="results" style="max-width: 900px; margin: 20px auto; padding: 0 10px;"></div>

<!-- ÿ™ÿ£ÿ´Ÿäÿ± ÿµŸàÿ™Ÿä -->
<audio id="clickSound" src="https://cdn.pixabay.com/download/audio/2023/03/01/audio_9b2e6b9fa0.mp3?filename=click-124467.mp3"></audio>

<!-- ÿ≥ŸÉÿ±Ÿäÿ®ÿ™ ÿßŸÑÿ®ÿ≠ÿ´ -->
<script>
  async function search() {
    const query = document.getElementById("query").value.trim();
    const searchBtn = document.getElementById("searchBtn");
    const results = document.getElementById("results");
    const clickSound = document.getElementById("clickSound");

    if (!query) {
      alert("Please enter a search term.");
      return;
    }

    clickSound.play();

    searchBtn.textContent = "Searching...";
    searchBtn.disabled = true;
    results.innerHTML = "";

    try {
      const response = await fetch(`https://api.semanticscholar.org/graph/v1/paper/search?query=${encodeURIComponent(query)}&limit=20&fields=title,abstract,authors,year`);
      const data = await response.json();

      if (!data.data || data.data.length === 0) {
        results.innerHTML = "<p>No results found.</p>";
      } else {
        data.data.forEach(paper => {
          const div = document.createElement("div");
          div.style = "background: #fff; border-radius: 8px; padding: 16px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: left;";
          div.innerHTML = `
            <h3 style="margin: 0 0 8px 0; font-size: 18px;">${paper.title}</h3>
            <p style="margin: 4px 0; color: #555;"><strong>Authors:</strong> ${paper.authors.map(a => a.name).join(", ")}</p>
            <p style="margin: 4px 0; color: #555;"><strong>Published:</strong> ${paper.year || "N/A"}</p>
            <p style="margin-top: 8px; color: #333;"><strong>Abstract:</strong><br>${paper.abstract || "No abstract available."}</p>
          `;
          results.appendChild(div);
        });
      }
    } catch (error) {
      results.innerHTML = "<p>Error fetching results. Please enter the search text in English.</p>";
    }

    searchBtn.textContent = "Search";
    searchBtn.disabled = false;
  }

  function logout() {
    sessionStorage.removeItem("loggedInUser");
    alert("You have been logged out.");
    window.location.href = "index.html";
  }
</script>

<!-- ŸÖŸÉÿ™ÿ®ÿ© Particles -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
  particlesJS("particles-js", {
    "particles": {
      "number": { "value": 60, "density": { "enable": true, "value_area": 800 } },
      "color": { "value": "#7C4DFF" },
      "shape": { "type": "circle" },
      "opacity": { "value": 0.3 },
      "size": { "value": 4, "random": true },
      "line_linked": {
        "enable": true,
        "distance": 120,
        "color": "#7C4DFF",
        "opacity": 0.4,
        "width": 1
      },
      "move": { "enable": true, "speed": 2 }
    },
    "interactivity": {
      "detect_on": "canvas",
      "events": { "onhover": { "enable": true, "mode": "repulse" } }
    },
    "retina_detect": true
  });
</script>

</body>
</html>
